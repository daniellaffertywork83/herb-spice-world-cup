<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Herb & Spice World Cup 2026</title>
<meta name="description" content="Pick your favourite herbs and spices through every round of the 2026 FIFA World Cup bracket â€” from group stage to the final.">
<meta property="og:title" content="Herb & Spice World Cup 2026 ðŸ†">
<meta property="og:description" content="48 herbs and spices enter. One leaves champion. Play the full World Cup bracket.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:wght@400;500;600;700&family=DM+Serif+Display&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  html, body, #root { height: 100%; }
  body { background: #0F0E0C; font-family: 'Instrument Sans', 'DM Sans', system-ui, sans-serif; }
  @keyframes slideIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  ::-webkit-scrollbar { width: 6px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: rgba(212,175,55,0.2); border-radius: 3px; }
</style>
</head>
<body>
<div id="root"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script>
const { useState, useEffect, useRef, createElement: h } = React;

const GROUPS = {
  A: [
    { id: "mexico", name: "Mexico", flag: "\u{1F1F2}\u{1F1FD}", spice: "Chile Powder", emoji: "\u{1F336}\u{FE0F}", color: "#C4161C" },
    { id: "south_africa", name: "South Africa", flag: "\u{1F1FF}\u{1F1E6}", spice: "Rooibos", emoji: "\u{1F375}", color: "#C2553A" },
    { id: "south_korea", name: "South Korea", flag: "\u{1F1F0}\u{1F1F7}", spice: "Gochugaru", emoji: "\u{1FAD1}", color: "#E03C31" },
    { id: "denmark", name: "Denmark", flag: "\u{1F1E9}\u{1F1F0}", spice: "Dill", emoji: "\u{1F33F}", color: "#5B8C5A" },
  ],
  B: [
    { id: "canada", name: "Canada", flag: "\u{1F1E8}\u{1F1E6}", spice: "Maple", emoji: "\u{1F341}", color: "#C27A2B" },
    { id: "italy", name: "Italy", flag: "\u{1F1EE}\u{1F1F9}", spice: "Basil", emoji: "\u{1F33F}", color: "#2D8B46" },
    { id: "qatar", name: "Qatar", flag: "\u{1F1F6}\u{1F1E6}", spice: "Cardamom", emoji: "\u{1FAD9}", color: "#5A7247" },
    { id: "switzerland", name: "Switzerland", flag: "\u{1F1E8}\u{1F1ED}", spice: "Chives", emoji: "\u{1F9C5}", color: "#6B8F4B" },
  ],
  C: [
    { id: "brazil", name: "Brazil", flag: "\u{1F1E7}\u{1F1F7}", spice: "Cilantro", emoji: "\u{1F33F}", color: "#3A9B4F" },
    { id: "morocco", name: "Morocco", flag: "\u{1F1F2}\u{1F1E6}", spice: "Cumin", emoji: "\u{1FAD8}", color: "#C68B3E" },
    { id: "haiti", name: "Haiti", flag: "\u{1F1ED}\u{1F1F9}", spice: "Clove", emoji: "\u{1FAB5}", color: "#6B3A2A" },
    { id: "scotland", name: "Scotland", flag: "\u{1F3F4}\u{E0067}\u{E0062}\u{E0073}\u{E0063}\u{E0074}\u{E007F}", spice: "Juniper", emoji: "\u{1FAD0}", color: "#3B5998" },
  ],
  D: [
    { id: "usa", name: "USA", flag: "\u{1F1FA}\u{1F1F8}", spice: "Smoked Paprika", emoji: "\u{1F525}", color: "#B5451B" },
    { id: "paraguay", name: "Paraguay", flag: "\u{1F1F5}\u{1F1FE}", spice: "Yerba Mate", emoji: "\u{1F9C9}", color: "#4A7C3F" },
    { id: "australia", name: "Australia", flag: "\u{1F1E6}\u{1F1FA}", spice: "Lemon Myrtle", emoji: "\u{1F34B}", color: "#C9B84E" },
    { id: "turkiye", name: "T\u00FCrkiye", flag: "\u{1F1F9}\u{1F1F7}", spice: "Sumac", emoji: "\u{1F347}", color: "#8B2252" },
  ],
  E: [
    { id: "germany", name: "Germany", flag: "\u{1F1E9}\u{1F1EA}", spice: "Caraway", emoji: "\u{1F330}", color: "#7A6240" },
    { id: "curacao", name: "Cura\u00E7ao", flag: "\u{1F1E8}\u{1F1FC}", spice: "Allspice", emoji: "\u26AB", color: "#6B4226" },
    { id: "ivory_coast", name: "Ivory Coast", flag: "\u{1F1E8}\u{1F1EE}", spice: "Grains of Paradise", emoji: "\u2728", color: "#8B6914" },
    { id: "ecuador", name: "Ecuador", flag: "\u{1F1EA}\u{1F1E8}", spice: "Achiote", emoji: "\u{1F7E0}", color: "#D4652F" },
  ],
  F: [
    { id: "netherlands", name: "Netherlands", flag: "\u{1F1F3}\u{1F1F1}", spice: "Nutmeg", emoji: "\u{1F95C}", color: "#8B5E3C" },
    { id: "japan", name: "Japan", flag: "\u{1F1EF}\u{1F1F5}", spice: "Wasabi", emoji: "\u{1F7E2}", color: "#5B8930" },
    { id: "poland", name: "Poland", flag: "\u{1F1F5}\u{1F1F1}", spice: "Marjoram", emoji: "\u{1F33F}", color: "#6B7F4A" },
    { id: "tunisia", name: "Tunisia", flag: "\u{1F1F9}\u{1F1F3}", spice: "Harissa Pepper", emoji: "\u{1F336}\u{FE0F}", color: "#CC3333" },
  ],
  G: [
    { id: "belgium", name: "Belgium", flag: "\u{1F1E7}\u{1F1EA}", spice: "Bay Leaf", emoji: "\u{1F343}", color: "#4A6741" },
    { id: "egypt", name: "Egypt", flag: "\u{1F1EA}\u{1F1EC}", spice: "Fenugreek", emoji: "\u{1F33E}", color: "#B89B3E" },
    { id: "iran", name: "Iran", flag: "\u{1F1EE}\u{1F1F7}", spice: "Saffron", emoji: "\u{1F338}", color: "#D4A017" },
    { id: "new_zealand", name: "New Zealand", flag: "\u{1F1F3}\u{1F1FF}", spice: "Horopito", emoji: "\u{1F33F}", color: "#2E5E3F" },
  ],
  H: [
    { id: "spain", name: "Spain", flag: "\u{1F1EA}\u{1F1F8}", spice: "Oregano", emoji: "\u{1F33F}", color: "#5A7C47" },
    { id: "cape_verde", name: "Cape Verde", flag: "\u{1F1E8}\u{1F1FB}", spice: "Malagueta Pepper", emoji: "\u{1F336}\u{FE0F}", color: "#D44E2F" },
    { id: "saudi_arabia", name: "Saudi Arabia", flag: "\u{1F1F8}\u{1F1E6}", spice: "Black Lime", emoji: "\u{1F5A4}", color: "#2C2C2C" },
    { id: "uruguay", name: "Uruguay", flag: "\u{1F1FA}\u{1F1FE}", spice: "Parsley", emoji: "\u{1F33F}", color: "#3B8132" },
  ],
  I: [
    { id: "france", name: "France", flag: "\u{1F1EB}\u{1F1F7}", spice: "Tarragon", emoji: "\u{1F33F}", color: "#4A7B5D" },
    { id: "senegal", name: "Senegal", flag: "\u{1F1F8}\u{1F1F3}", spice: "N\u00E9t\u00E9tou", emoji: "\u{1FAD8}", color: "#6B4F3A" },
    { id: "iraq", name: "Iraq", flag: "\u{1F1EE}\u{1F1F6}", spice: "Turmeric", emoji: "\u{1F7E1}", color: "#E0A526" },
    { id: "norway", name: "Norway", flag: "\u{1F1F3}\u{1F1F4}", spice: "Angelica", emoji: "\u{1F338}", color: "#7A8B6F" },
  ],
  J: [
    { id: "argentina", name: "Argentina", flag: "\u{1F1E6}\u{1F1F7}", spice: "Rosemary", emoji: "\u{1F33F}", color: "#5C7A4B" },
    { id: "algeria", name: "Algeria", flag: "\u{1F1E9}\u{1F1FF}", spice: "Cinnamon", emoji: "\u{1FAB5}", color: "#A0522D" },
    { id: "austria", name: "Austria", flag: "\u{1F1E6}\u{1F1F9}", spice: "Poppy Seed", emoji: "\u{1F311}", color: "#3A3A5C" },
    { id: "jordan", name: "Jordan", flag: "\u{1F1EF}\u{1F1F4}", spice: "Thyme", emoji: "\u{1F33F}", color: "#6B7B4A" },
  ],
  K: [
    { id: "portugal", name: "Portugal", flag: "\u{1F1F5}\u{1F1F9}", spice: "Piri Piri", emoji: "\u{1F525}", color: "#C83C23" },
    { id: "dr_congo", name: "DR Congo", flag: "\u{1F1E8}\u{1F1E9}", spice: "Black Pepper", emoji: "\u26AB", color: "#333333" },
    { id: "uzbekistan", name: "Uzbekistan", flag: "\u{1F1FA}\u{1F1FF}", spice: "Nigella Seed", emoji: "\u{1F311}", color: "#2A2A3A" },
    { id: "colombia", name: "Colombia", flag: "\u{1F1E8}\u{1F1F4}", spice: "Guascas", emoji: "\u{1F33F}", color: "#4A8B3F" },
  ],
  L: [
    { id: "england", name: "England", flag: "\u{1F3F4}\u{E0067}\u{E0062}\u{E0065}\u{E006E}\u{E0067}\u{E007F}", spice: "Mustard Seed", emoji: "\u{1F7E1}", color: "#CCA300" },
    { id: "croatia", name: "Croatia", flag: "\u{1F1ED}\u{1F1F7}", spice: "Lavender", emoji: "\u{1F49C}", color: "#7B68AE" },
    { id: "ghana", name: "Ghana", flag: "\u{1F1EC}\u{1F1ED}", spice: "Ginger", emoji: "\u{1FADA}", color: "#C9A84C" },
    { id: "panama", name: "Panama", flag: "\u{1F1F5}\u{1F1E6}", spice: "Culantro", emoji: "\u{1F33F}", color: "#3D7A3A" },
  ],
};

const GROUP_KEYS = Object.keys(GROUPS);
const PHASE_GROUP = "group", PHASE_R32 = "r32", PHASE_R16 = "r16", PHASE_QF = "qf", PHASE_SF = "sf", PHASE_FINAL = "final", PHASE_CHAMPION = "champion";
const PHASE_LABELS = { [PHASE_GROUP]: "Group Stage", [PHASE_R32]: "Round of 32", [PHASE_R16]: "Round of 16", [PHASE_QF]: "Quarter-Finals", [PHASE_SF]: "Semi-Finals", [PHASE_FINAL]: "The Final", [PHASE_CHAMPION]: "Champion" };
const KNOCKOUT_PHASES = [PHASE_R32, PHASE_R16, PHASE_QF, PHASE_SF, PHASE_FINAL, PHASE_CHAMPION];
const phaseColors = { [PHASE_GROUP]: "#D4AF37", [PHASE_R32]: "#C87533", [PHASE_R16]: "#D44E2F", [PHASE_QF]: "#B5451B", [PHASE_SF]: "#8B2252", [PHASE_FINAL]: "#D4AF37", [PHASE_CHAMPION]: "#D4AF37" };

function SpiceCard({ team, onClick, selected, eliminated, small, winner }) {
  return h("div", {
    style: {
      display: "flex", flexDirection: "column", alignItems: "center", justifyContent: "center",
      padding: small ? "8px 10px" : "14px 16px", borderRadius: "10px",
      cursor: eliminated ? "default" : onClick ? "pointer" : "default",
      border: selected ? "2px solid " + team.color : winner ? "2px solid #D4AF37" : "2px solid transparent",
      background: eliminated ? "rgba(60,60,60,0.3)" : selected ? "linear-gradient(135deg, " + team.color + "22, " + team.color + "11)" : "rgba(255,255,255,0.04)",
      opacity: eliminated ? 0.35 : 1, transition: "all 0.3s cubic-bezier(0.4,0,0.2,1)",
      minWidth: small ? "110px" : "130px", position: "relative", overflow: "hidden",
      boxShadow: selected ? "0 4px 20px " + team.color + "33" : winner ? "0 4px 20px rgba(212,175,55,0.3)" : "none",
    },
    onClick: eliminated ? undefined : onClick,
    onMouseEnter: function(e) { if (!eliminated && onClick) { e.currentTarget.style.transform = "translateY(-2px)"; e.currentTarget.style.background = "linear-gradient(135deg, " + team.color + "33, " + team.color + "18)"; } },
    onMouseLeave: function(e) { if (!eliminated && onClick) { e.currentTarget.style.transform = "translateY(0)"; e.currentTarget.style.background = selected ? "linear-gradient(135deg, " + team.color + "22, " + team.color + "11)" : "rgba(255,255,255,0.04)"; } },
  },
    winner && h("div", { style: { position: "absolute", top: "-2px", right: "6px", fontSize: "14px" } }, "\u{1F451}"),
    h("div", { style: { fontSize: small ? "22px" : "28px", marginBottom: "4px" } }, team.emoji),
    h("div", { style: { fontSize: small ? "11px" : "13px", fontWeight: 700, color: eliminated ? "#666" : "#E8E0D4", letterSpacing: "0.03em", textAlign: "center", lineHeight: 1.2 } }, team.spice),
    h("div", { style: { fontSize: small ? "9px" : "10px", color: eliminated ? "#555" : "#9A9080", marginTop: "3px", display: "flex", alignItems: "center", gap: "3px" } },
      h("span", null, team.flag), h("span", null, team.name)
    )
  );
}

function GroupCard({ groupKey, teams, selections, onSelect, locked }) {
  var selected = selections[groupKey] || [];
  var isSelected = function(t) { return selected.some(function(s) { return s.id === t.id; }); };
  var isEliminated = function(t) { return selected.length >= 2 && !isSelected(t); };
  return h("div", { style: { background: "rgba(255,255,255,0.02)", borderRadius: "14px", padding: "16px", border: locked ? "1px solid rgba(212,175,55,0.15)" : "1px solid rgba(255,255,255,0.06)", transition: "all 0.3s ease" } },
    h("div", { style: { display: "flex", alignItems: "center", justifyContent: "space-between", marginBottom: "12px" } },
      h("span", { style: { fontSize: "11px", fontWeight: 800, color: "#D4AF37", background: "rgba(212,175,55,0.12)", padding: "3px 8px", borderRadius: "4px", letterSpacing: "0.1em" } }, "GROUP " + groupKey),
      h("span", { style: { fontSize: "10px", color: locked ? "#7A9A5A" : "#9A9080" } }, locked ? "\u2713 Complete" : selected.length + "/2 selected")
    ),
    h("div", { style: { display: "grid", gridTemplateColumns: "1fr 1fr", gap: "8px" } },
      teams.map(function(team) {
        return h(SpiceCard, { key: team.id, team: team, onClick: locked ? undefined : function() { onSelect(groupKey, team); }, selected: isSelected(team), eliminated: isEliminated(team), small: true });
      })
    )
  );
}

function MatchupCard({ match, onSelect, phaseColor }) {
  if (!match || !match.team1 || !match.team2) return h("div", { style: { padding: "20px", borderRadius: "12px", background: "rgba(255,255,255,0.02)", border: "1px dashed rgba(255,255,255,0.08)", textAlign: "center", color: "#555", fontSize: "12px" } }, "Awaiting teams...");
  var team1 = match.team1, team2 = match.team2, winner = match.winner;
  function side(team, isLeft) {
    var isWinner = winner && winner.id === team.id;
    var isLoser = winner && winner.id !== team.id;
    return h("div", {
      style: {
        flex: 1, padding: "12px", cursor: winner ? "pointer" : "pointer",
        background: isWinner ? team.color + "15" : "transparent",
        transition: "all 0.2s ease", display: "flex", flexDirection: "column", alignItems: "center", justifyContent: "center",
        borderRight: isLeft ? "1px solid rgba(255,255,255,0.04)" : "none",
        borderLeft: !isLeft ? "1px solid rgba(255,255,255,0.04)" : "none",
      },
      onClick: function() { onSelect(match.id, team); },
      onMouseEnter: function(e) { e.currentTarget.style.background = team.color + "20"; },
      onMouseLeave: function(e) { e.currentTarget.style.background = isWinner ? team.color + "15" : "transparent"; },
    },
      h("div", { style: { fontSize: "26px", marginBottom: "4px" } }, team.emoji),
      h("div", { style: { fontSize: "12px", fontWeight: 700, color: isLoser ? "#555" : "#E8E0D4", textAlign: "center" } }, team.spice),
      h("div", { style: { fontSize: "9px", color: "#9A9080", marginTop: "2px" } }, team.flag + " " + team.name),
      isWinner && h("div", { style: { fontSize: "10px", marginTop: "4px" } }, "\u{1F451}")
    );
  }
  return h("div", { style: { borderRadius: "12px", background: "rgba(255,255,255,0.02)", border: winner ? "1px solid " + phaseColor + "22" : "1px solid rgba(255,255,255,0.06)", overflow: "hidden" } },
    h("div", { style: { display: "flex", alignItems: "stretch" } },
      side(team1, true),
      h("div", { style: { display: "flex", alignItems: "center", justifyContent: "center", padding: "0 4px", fontSize: "10px", fontWeight: 800, color: "#555", letterSpacing: "0.05em" } }, "VS"),
      side(team2, false)
    )
  );
}

function ChampionReveal({ team }) {
  var ref = useState(false), show = ref[0], setShow = ref[1];
  useEffect(function() { setTimeout(function() { setShow(true); }, 100); }, []);
  return h("div", { style: { display: "flex", flexDirection: "column", alignItems: "center", justifyContent: "center", padding: "50px 20px", textAlign: "center", opacity: show ? 1 : 0, transform: show ? "scale(1)" : "scale(0.8)", transition: "all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)" } },
    h("div", { style: { fontSize: "48px", marginBottom: "8px" } }, "\u{1F3C6}"),
    h("div", { style: { fontSize: "10px", fontWeight: 800, letterSpacing: "0.3em", color: "#D4AF37", marginBottom: "16px", textTransform: "uppercase" } }, "World's Greatest Herb & Spice"),
    h("div", { style: { fontSize: "64px", marginBottom: "12px" } }, team.emoji),
    h("div", { style: { fontSize: "32px", fontWeight: 800, color: "#E8E0D4", marginBottom: "8px", textShadow: "0 0 40px " + team.color + "66", fontFamily: "'DM Serif Display', serif" } }, team.spice),
    h("div", { style: { fontSize: "16px", color: "#9A9080", display: "flex", alignItems: "center", gap: "6px" } }, h("span", null, team.flag), " ", team.name),
    h("div", { style: { marginTop: "24px", width: "80px", height: "3px", background: "linear-gradient(90deg, transparent, " + team.color + ", transparent)", borderRadius: "2px" } })
  );
}

function App() {
  var s1 = useState(PHASE_GROUP), phase = s1[0], setPhase = s1[1];
  var s2 = useState({}), groupSelections = s2[0], setGroupSelections = s2[1];
  var s3 = useState({}), knockoutMatches = s3[0], setKnockoutMatches = s3[1];
  var s4 = useState(null), champion = s4[0], setChampion = s4[1];
  var contentRef = useRef(null);

  function handleGroupSelect(groupKey, team) {
    setGroupSelections(function(prev) {
      var current = prev[groupKey] || [];
      var exists = current.find(function(t) { return t.id === team.id; });
      if (exists) return Object.assign({}, prev, { [groupKey]: current.filter(function(t) { return t.id !== team.id; }) });
      if (current.length >= 2) return prev;
      return Object.assign({}, prev, { [groupKey]: current.concat([team]) });
    });
  }

  var allGroupsComplete = GROUP_KEYS.every(function(k) { return (groupSelections[k] || []).length === 2; });

  function buildR32() {
    var r32Pairings = [
      [["A",0],["L",1]], [["B",0],["K",1]], [["C",0],["J",1]], [["D",0],["I",1]],
      [["E",0],["H",1]], [["F",0],["G",1]], [["G",0],["F",1]], [["H",0],["E",1]],
      [["I",0],["D",1]], [["J",0],["C",1]], [["K",0],["B",1]], [["L",0],["A",1]],
      [["A",1],["H",0]], [["C",1],["F",0]], [["E",1],["D",0]], [["K",1],["J",0]],
    ];
    var matches = {};
    r32Pairings.forEach(function(pair, i) {
      var t1 = (groupSelections[pair[0][0]] || [])[pair[0][1]];
      var t2 = (groupSelections[pair[1][0]] || [])[pair[1][1]];
      if (t1 && t2) matches["r32_" + i] = { id: "r32_" + i, team1: t1, team2: t2, winner: null };
    });
    return matches;
  }

  function advanceToR32() {
    setKnockoutMatches(buildR32());
    setPhase(PHASE_R32);
  }

  function handleKnockoutSelect(matchId, team) {
    setKnockoutMatches(function(prev) {
      var match = prev[matchId];
      if (match.winner && match.winner.id === team.id) return Object.assign({}, prev, { [matchId]: Object.assign({}, match, { winner: null }) });
      return Object.assign({}, prev, { [matchId]: Object.assign({}, match, { winner: team }) });
    });
  }

  function getMatchesForPhase(p) {
    var prefix = p === PHASE_R32 ? "r32_" : p === PHASE_R16 ? "r16_" : p === PHASE_QF ? "qf_" : p === PHASE_SF ? "sf_" : "final_";
    return Object.values(knockoutMatches).filter(function(m) { return m.id.indexOf(prefix) === 0; });
  }

  function allMatchesComplete(p) {
    var matches = getMatchesForPhase(p);
    return matches.length > 0 && matches.every(function(m) { return m.winner; });
  }

  function buildNextRound(currentPhase, nextPhase) {
    var winners = getMatchesForPhase(currentPhase).map(function(m) { return m.winner; }).filter(Boolean);
    var prefix = nextPhase === PHASE_R16 ? "r16_" : nextPhase === PHASE_QF ? "qf_" : nextPhase === PHASE_SF ? "sf_" : "final_";
    var newMatches = Object.assign({}, knockoutMatches);
    for (var i = 0; i < winners.length; i += 2) {
      if (winners[i] && winners[i + 1]) {
        var id = prefix + Math.floor(i / 2);
        newMatches[id] = { id: id, team1: winners[i], team2: winners[i + 1], winner: null };
      }
    }
    setKnockoutMatches(newMatches);
    setPhase(nextPhase);
  }

  function advancePhase() {
    if (phase === PHASE_R32) buildNextRound(PHASE_R32, PHASE_R16);
    else if (phase === PHASE_R16) buildNextRound(PHASE_R16, PHASE_QF);
    else if (phase === PHASE_QF) buildNextRound(PHASE_QF, PHASE_SF);
    else if (phase === PHASE_SF) buildNextRound(PHASE_SF, PHASE_FINAL);
    else if (phase === PHASE_FINAL) {
      var fm = getMatchesForPhase(PHASE_FINAL)[0];
      if (fm && fm.winner) { setChampion(fm.winner); setPhase(PHASE_CHAMPION); }
    }
  }

  function resetAll() { setPhase(PHASE_GROUP); setGroupSelections({}); setKnockoutMatches({}); setChampion(null); }

  useEffect(function() { if (contentRef.current) contentRef.current.scrollTo({ top: 0, behavior: "smooth" }); }, [phase]);

  var phaseIndex = [PHASE_GROUP].concat(KNOCKOUT_PHASES).indexOf(phase);
  var phaseLabels = ["Groups", "R32", "R16", "QF", "SF", "Final"];
  var incompleteGroups = GROUP_KEYS.filter(function(k) { return (groupSelections[k] || []).length < 2; }).length;
  var remainingMatchups = phase !== PHASE_GROUP ? getMatchesForPhase(phase).filter(function(m) { return !m.winner; }).length : 0;

  function btnStyle(enabled, color) {
    return {
      background: enabled ? "linear-gradient(135deg, " + color + ", " + color + "CC)" : "rgba(255,255,255,0.05)",
      color: enabled ? (color === "#D4AF37" ? "#0F0E0C" : "#FFF") : "#555",
      border: "none", padding: "14px 40px", borderRadius: "10px", fontSize: "14px", fontWeight: 800,
      cursor: enabled ? "pointer" : "default", letterSpacing: "0.05em", transition: "all 0.3s ease",
      boxShadow: enabled ? "0 4px 24px " + color + "44" : "none", width: "100%", maxWidth: "400px",
    };
  }

  return h("div", { style: { minHeight: "100vh", background: "#0F0E0C", color: "#E8E0D4", fontFamily: "'Instrument Sans', 'DM Sans', system-ui, sans-serif", position: "relative", overflow: "hidden" } },
    // BG
    h("div", { style: { position: "fixed", inset: 0, background: "radial-gradient(ellipse at 20% 20%, rgba(212,175,55,0.03) 0%, transparent 60%), radial-gradient(ellipse at 80% 80%, rgba(139,34,82,0.02) 0%, transparent 60%)", pointerEvents: "none" } }),
    // Header
    h("div", { style: { padding: "20px 24px 12px", borderBottom: "1px solid rgba(255,255,255,0.04)", position: "relative", zIndex: 2 } },
      h("div", { style: { display: "flex", alignItems: "center", justifyContent: "space-between", marginBottom: "12px" } },
        h("div", null,
          h("div", { style: { fontSize: "9px", fontWeight: 700, letterSpacing: "0.25em", color: "#D4AF37", textTransform: "uppercase", marginBottom: "4px" } }, "Herb & Spice"),
          h("h1", { style: { fontSize: "22px", fontWeight: 800, color: "#E8E0D4", lineHeight: 1.1, fontFamily: "'DM Serif Display', serif" } }, "World Cup 2026")
        ),
        phase !== PHASE_GROUP && h("button", { onClick: resetAll, style: { background: "rgba(255,255,255,0.05)", border: "1px solid rgba(255,255,255,0.1)", color: "#9A9080", padding: "6px 14px", borderRadius: "6px", fontSize: "11px", cursor: "pointer", fontWeight: 600 } }, "Start Over")
      ),
      // Progress bar
      h("div", { style: { display: "flex", gap: "3px", alignItems: "center" } },
        phaseLabels.map(function(_, i) { return h("div", { key: i, style: { flex: 1, height: "3px", borderRadius: "2px", background: i <= phaseIndex ? phaseColors[phase] : "rgba(255,255,255,0.06)", transition: "all 0.5s ease", opacity: i <= phaseIndex ? 1 : 0.5 } }); })
      ),
      h("div", { style: { display: "flex", justifyContent: "space-between", marginTop: "6px", fontSize: "8px", fontWeight: 600, color: "#666", letterSpacing: "0.05em", textTransform: "uppercase" } },
        phaseLabels.map(function(label, i) { return h("span", { key: label, style: { color: i <= phaseIndex ? phaseColors[phase] : "#666" } }, label); })
      )
    ),
    // Content
    h("div", { ref: contentRef, style: { padding: "16px 16px 120px", position: "relative", zIndex: 1, overflow: "auto" } },
      // Phase title
      h("div", { style: { textAlign: "center", marginBottom: "20px", animation: "fadeIn 0.5s ease" } },
        h("div", { style: { fontSize: "11px", fontWeight: 800, letterSpacing: "0.2em", color: phaseColors[phase], textTransform: "uppercase", marginBottom: "4px" } }, PHASE_LABELS[phase]),
        h("div", { style: { fontSize: "12px", color: "#9A9080" } },
          phase === PHASE_GROUP ? "Pick 2 herbs/spices from each group to advance" : phase === PHASE_CHAMPION ? "" : "Click the winner of each matchup"
        )
      ),
      // Group stage
      phase === PHASE_GROUP && h("div", { style: { display: "grid", gridTemplateColumns: "repeat(auto-fit, minmax(280px, 1fr))", gap: "12px", animation: "fadeIn 0.4s ease" } },
        GROUP_KEYS.map(function(k) {
          return h(GroupCard, { key: k, groupKey: k, teams: GROUPS[k], selections: groupSelections, onSelect: handleGroupSelect, locked: (groupSelections[k] || []).length === 2 });
        })
      ),
      // Knockout
      [PHASE_R32, PHASE_R16, PHASE_QF, PHASE_SF, PHASE_FINAL].indexOf(phase) >= 0 &&
        h("div", { style: { display: "grid", gridTemplateColumns: phase === PHASE_FINAL ? "1fr" : phase === PHASE_SF ? "repeat(auto-fit, minmax(280px, 1fr))" : "repeat(auto-fit, minmax(260px, 1fr))", gap: "12px", maxWidth: phase === PHASE_FINAL ? "400px" : "none", margin: phase === PHASE_FINAL ? "0 auto" : "0", animation: "fadeIn 0.4s ease" } },
          getMatchesForPhase(phase).map(function(match) {
            return h(MatchupCard, { key: match.id, match: match, onSelect: handleKnockoutSelect, phaseColor: phaseColors[phase] });
          })
        ),
      // Champion
      phase === PHASE_CHAMPION && champion && h(ChampionReveal, { team: champion })
    ),
    // Bottom bar
    phase !== PHASE_CHAMPION && h("div", { style: { position: "fixed", bottom: 0, left: 0, right: 0, padding: "16px 24px", paddingBottom: "max(16px, env(safe-area-inset-bottom))", background: "linear-gradient(transparent, #0F0E0C 30%)", zIndex: 10, display: "flex", justifyContent: "center" } },
      phase === PHASE_GROUP
        ? h("button", { onClick: advanceToR32, disabled: !allGroupsComplete, style: btnStyle(allGroupsComplete, "#D4AF37") },
            allGroupsComplete ? "Advance to Round of 32 \u2192" : "Select from " + incompleteGroups + " more group" + (incompleteGroups === 1 ? "" : "s"))
        : h("button", { onClick: advancePhase, disabled: !allMatchesComplete(phase), style: btnStyle(allMatchesComplete(phase), phaseColors[phase]) },
            allMatchesComplete(phase) ? (phase === PHASE_FINAL ? "Crown the Champion \u{1F3C6}" : "Advance to " + (PHASE_LABELS[KNOCKOUT_PHASES[KNOCKOUT_PHASES.indexOf(phase) + 1]] || "Next Round") + " \u2192") : remainingMatchups + " matchup" + (remainingMatchups === 1 ? "" : "s") + " remaining")
    ),
    phase === PHASE_CHAMPION && h("div", { style: { position: "fixed", bottom: 0, left: 0, right: 0, padding: "16px 24px", paddingBottom: "max(16px, env(safe-area-inset-bottom))", background: "linear-gradient(transparent, #0F0E0C 30%)", zIndex: 10, display: "flex", justifyContent: "center" } },
      h("button", { onClick: resetAll, style: btnStyle(true, "#D4AF37") }, "Play Again \u{1F504}")
    )
  );
}

ReactDOM.render(h(App), document.getElementById("root"));
</script>
</body>
</html>
